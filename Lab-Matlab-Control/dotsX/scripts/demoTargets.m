% demoTargets.m%% demo 50 targets using DotsX code% Copyright 2004 by Joshua I. Gold%   University of Pennsylvania%%%%% Targets test%%%%frames      = 300;num_targets = 50;r           = [1, 1, 0, 0, 1, 0, 1, .1:.1:.6]*255;g           = [1, 0, 1, 0, 1, 1, 0, .1:.1:.6]*255;b           = [1, 0, 0, 1, 0, 1, 1, .1:.1:.6]*255;colors      = repmat([r;g;b]',ceil(num_targets/length(r)),1);try    rInit('local');    rAdd('dXtext', 1, 'x', -10, 'y', 5, 'color', [255,0,0], 'string', 'Testing Targets...');    rGraphicsShowDraw('dXtext', 1);    pause(1);    rGraphicsShowDraw({}, 'dXtext', 1);    rAdd('dXtargets', 1, 'visible', true, 'diameter', 1, ...        'cmd', mod(1:num_targets,4), 'color', [255,0,255], 'penWidth', 2);    angs = 0:2*pi/(num_targets-1):2*pi;    tic    for ii = 1:frames        rGraphicsSetDraw('dXtargets', 1, ...            'x', cos(angs)*ii/30, ...            'y', -sin(angs)*ii/30);    end    rSet('dXtargets', 1, 'color', colors(1:num_targets, :));    for ii = 1:frames        rGraphicsSetDraw('dXtargets', 1, ...            'x', cos(angs+2*pi/frames*ii)*frames/30, ...            'y', -sin(angs+2*pi/frames*ii)*frames/30);    end    time_per_frame = toc/(frames*2+1)*1000;    rGraphicsBlank;    rGraphicsSetDraw('dXtext', 1, 'visible', true, ...        'string', sprintf('Time per frame: %.1f ms', time_per_frame));    pause(2);    rGraphicsShowDraw({}, 'dXtext', 1);    pause(1)    rDone;catch    rDone;    rethrow(lasterror);end % try..catch