function [fb_, attributes_, batchMethods_] = dXfeedback(num_objects)%Manage when and what kind of feedback to show to subject and experimenter%   [fb_, attributes_, batchMethods_] = dXfeedback(num_objects)%% Creates a dXfeedback object, which keeps track of what performance data% to show to subject and experimenter during an experiment.  Also keeps% track of when to show it: never? after each trial?  etc.%% Arguments:%   num_objects    ... ignored, always one object%% Returns:%   fb_            ... a single new dXfeedback instance%   attributes_    ... default object attributes%   batchMethods_  ... methods that can be run with rBatch% Copyright 2006 Ben Heasly%   University of Pennsylvaniarespond = { ...    'dXkbHID', {'any', 'keypress', true}; ...    'dXgameHID', {'any', 'buttonpress', true}; ...    'dXPMDHID', {'any', 'PMDEvent', true}};% default object attributesattributes = { ...    % name              type		ranges      default    'doEndTrial',       'string',   {'never', 'trial', 'block'}, 'never'; ...    'displaySecs',      'scalar',   [],         5; ...    'query',            'cell',     [],         respond; ...    'preBlank',         'boolean',  [],         false; ...    'postBlank',        'boolean',  [],         false; ...    'x',                'scalar',   [],         -10; ...    'yScale',           'scalar',   [],         1; ...    'size',             'scalar',   [],         40; ...    'font',             'string',   [],         'Courier'; ...    'bold',             'boolean',  [],         false; ...    'italic',           'boolean',  [],         false; ...    'underline',        'boolean',  [],         false; ...    'outline',          'boolean',  [],         false; ...    'tasksColor',       'array',    [],         [1 1 1]*255; ...    'totalsColor',      'array',    [],         [1 1 1]*255; ...    'groupName',        'string',   [],         'iti'; ...    'dXtextInstances',  'auto',     [],         []; ...    };% make an array of objects from structs made from the attributesfb_ = class(cell2struct(attributes(:,4), ...    attributes(:,1), 1), 'dXfeedback');% return the attributes, if necessaryif nargout > 1    attributes_ = attributes;endif nargout > 2    batchMethods_ = {'endTrial'};end