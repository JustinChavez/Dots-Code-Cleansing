function [ts_, attributes_, batchMethods_] = dXimage(num_objects)% function [ts_, attributes_, batchMethods_] = dXimage(num_objects)%% Constructor method for class dXimage%% Arguments:%   num_objects   ... number of objects to create%% Output:%   ts_           ... array of created dXimages%   attributes_   ... default object attributes%   batchMethods_ ... methods that can be run in a batch (e.g., draw)% Copyright 2006 by Joshua I. Gold%   University of Pennsylvania% get screen attributes[wn, sr, ppd, fr] = rGraphicsGetScreenAttributes;% get path to Images directory[defDir,n,e,v] = fileparts(mfilename('fullpath'));fis            = strfind(defDir, filesep);defDir         = [defDir(1:fis(end)) 'Images' filesep];% default object attributesattributes = { ...        % name			type		ranges(?)	default        'visible',          'boolean',	[],		false;	...        'file',             'string',   [],     [];     ... % file or dir name        'dir',              'string',   [],     defDir; ...        'imReadArgs',       'cell',     [],     {};     ...        'x',                'scalar',	[],		0;		...        'y',                'scalar',	[],		0;		...        'scale',            'scalar',   [],     1;      ... % inf = fit to screen        'color',            'scalar',   [],     [];     ... % RGB, optionally modulate color        'rotationAngle',    'scalar',   [],     0;      ... % degrees clockwise!        'useTextures',      'boolean',  [],     true;   ... % true is faster.        'preloadTextures',  'boolean',  [],     false;  ... % true is faster.        'filterMode',       'scalar',   [],     1;      ... % 0/1; see DrawTexture        'globalAlpha',      'scalar',   [],     1;      ... % 0-1; see DrawTexture        'framesPerImage',   'scalar',   [],     1;      ... % only if animate        'sourceRect',       'vector',   [],     [];     ... % probably not used        'numImages',        'auto',     [],     0;      ...        'index',            'auto',     [],     1;      ... % index of currently animated image (or texture)        'frameCount',       'auto',     [],     0;      ... % frame count of currently animated image (or texture)                'filename',         'auto',     [],     {};     ... % cell array of filenames        'images',           'auto',     [],     {};     ... % cell array of images        'sizes',            'auto',     [],     [];     ... % array of wid, ht of images        'textures',         'auto',     [],     [];     ... % array of texture indices        'windowNumber',     'auto',     [],     wn;     ...        'screenRect',       'auto',     [],     sr;     ...        'frameRate',        'auto',     [],     fr;     ...        'sr',               'auto',     [],     sr(3:4)./2; ...        'pixelsPerDegree',  'auto',     [],     ppd;    ...        'drawRects',        'auto',		[],		[]; 	...        'tag',              'auto',	    [],		0};           % ignored% make an array of objects from structs made from the attributest = cell2struct(attributes(:,4), attributes(:,1), 1);for i = 1:num_objects    ts_(i) = class(t, 'dXimage');end% return the attributes, if necessaryif nargout > 1    attributes_ = attributes;endif nargout > 2    batchMethods_ = {'draw', 'blank'};end