function t_ = draw(t_)%draw method for class dXtargets: prepare graphics for display%   t_ = draw(t_)%%   All DotsX graphics classes have draw methods.  These prepare class%   instances for displaying graphics upon the next dXscreen 'flip'.%%   Updated class instances are always returned.%%----------Special comments-----------------------------------------------%-%%-% Overloaded draw method for class dXtargets%-%%-% Note: this routine always returns the object%-% in case it was changed%----------Special comments-----------------------------------------------%%   See also draw dXtargets% Copyright 2005 by Joshua I. Gold%   University of Pennsylvania% draw only visible objectsif length(t_) == 1    if t_.visible        % type 'Screen Targets?' for details. Draws all targets at once        % Screen('Targets', t_.windowNumber, ...        %     t_.cmd,...        %     clutX(t_.color), ...        %     t_.drawRect, ...        %     t_.penWidth);        % Use the builtin but simpler PTB 'FillOval', which is now        % vectorized        Screen('FillOval', t_.windowNumber, ...            clutX(t_.color)', ...            t_.drawRect');    endelse    Lshow = [t_.visible];    if any(Lshow)        % type 'Screen Targets?' for details. Draws all targets at once        % Screen('Targets', t_(1).windowNumber, ...        %     vertcat(t_(Lshow).cmd),...        %     clutX(vertcat(t_(Lshow).color)), ...        %     vertcat(t_(Lshow).drawRect), ...        %     vertcat(t_(Lshow).penWidth));        % Use the builtin but simpler PTB 'FillOval', which is now        % vectorized        Screen('FillOval', t_(1).windowNumber, ...            clutX(vertcat(t_(Lshow).color))', ...            vertcat(t_(Lshow).drawRect)');    endend