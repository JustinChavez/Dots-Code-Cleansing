function p_ = draw(p_)%draw method for class dXpolygon: prepare graphics for display%   p_ = draw(p_)%%   All DotsX graphics classes have draw methods.  These prepare class%   instances for displaying graphics upon the next dXscreen 'flip'.%%   Updated class instances are always returned.%%----------Special comments-----------------------------------------------%-%%-% Overloaded draw method for class dXpolygon%-%%-% Note: this routine always returns the object%-% in case it was changed%----------Special comments-----------------------------------------------%% Copyright 2008 by Joshua I. Gold%   University of Pennsylvania% get realif p_(1).windowNumber <= 0    returnend% draw only visible objectsif length(p_) == 1    if p_.visible                Screen('FillPoly', p_.windowNumber, clutX(p_.color), p_.pList);    endelse    Lshow = [p_.visible];    for ii = find(Lshow)        Screen('FillPoly', p_(ii).windowNumber, clutX(p_(ii).color), p_(ii).pList);    endend